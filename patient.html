<!DOCTYPE html>
<html>
<head>
<title>Get Token</title>
<style>
body{
  background:#f1f5f9;
  font-family:Arial;
}
.card{
  max-width:400px;
  margin:80px auto;
  background:white;
  padding:30px;
  border-radius:15px;
  box-shadow:0 10px 30px rgba(0,0,0,.15);
  text-align:center;
}
button{
  width:100%;
  padding:16px;
  font-size:20px;
  background:#2563eb;
  color:white;
  border:none;
  border-radius:10px;
}
#result{
  margin-top:25px;
  font-size:26px;
  color:#16a34a;
}
</style>
</head>

<body>
<div class="card">
  <h2>ğŸ¥ MedMadad</h2>
  <p>Doctor ke liye token lein</p>
  <button onclick="getToken()">ğŸŸ GET TOKEN</button>
  <div id="result"></div>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getFirestore, doc, updateDoc, getDoc, increment } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const firebaseConfig = { /* same config */ };
const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

window.getToken = async () => {
  const ref = doc(db,"departments","medicine");
  await updateDoc(ref,{ currentToken: increment(1) });
  const snap = await getDoc(ref);
  document.getElementById("result").innerText =
    "Your Token: A-" + snap.data().currentToken;
};
</script>
</body>
</html>
