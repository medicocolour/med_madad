<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Med Madad ‚Äì Hospital Queue System</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: linear-gradient(135deg, #0f9b8e, #0077b6);
  color: white;
  text-align: center;
}

header {
  padding: 25px 15px;
}

header h1 {
  margin: 0;
  font-size: 34px;
  letter-spacing: 2px;
}

header p {
  margin-top: 5px;
  font-size: 16px;
  opacity: 0.9;
}

.container {
  background: white;
  color: #333;
  margin: 20px;
  padding: 20px;
  border-radius: 14px;
}

.section {
  margin-bottom: 25px;
}

.section h2 {
  margin-bottom: 10px;
  color: #0077b6;
}

input, select, button {
  width: 90%;
  max-width: 320px;
  padding: 12px;
  margin: 6px 0;
  font-size: 16px;
  border-radius: 8px;
  border: 1px solid #ccc;
}

button {
  background: #0f9b8e;
  color: white;
  border: none;
  cursor: pointer;
}

button:hover {
  background: #0c7c72;
}

.token-box {
  font-size: 42px;
  margin-top: 10px;
  color: #0f9b8e;
  font-weight: bold;
}

.disclaimer {
  font-size: 13px;
  opacity: 0.8;
  margin: 20px;
}

footer {
  font-size: 14px;
  padding-bottom: 15px;
  opacity: 0.9;
}
</style>
</head>

<body>

<header>
  <h1>MED MADAD</h1>
  <p>Made things simple.</p>
</header>

<div class="container">

  <!-- Nurse Section -->
  <div class="section">
    <h2>Nurse Panel</h2>
    <input type="password" id="pin" placeholder="Enter PIN (e.g. 1244)">
    <select id="dept">
      <option value="medicine">Medicine</option>
      <option value="orthopedics">Orthopedics</option>
      <option value="gynaecology">Gynaecology</option>
      <option value="pediatrics">Pediatrics</option>
    </select>
    <button onclick="addToken()">Add New Patient</button>
  </div>

  <!-- Doctor Section -->
  <div class="section">
    <h2>Doctor View</h2>
    <div class="token-box" id="doctorToken">--</div>
  </div>

  <!-- Patient Section -->
  <div class="section">
    <h2>Patient Queue</h2>
    <p>Current Token</p>
    <div class="token-box" id="patientToken">--</div>
  </div>

</div>

<div class="disclaimer">
  ‚ö†Ô∏è Disclaimer: This platform is only for patient queue and token management.  
  It does not provide medical advice, diagnosis, or treatment.
</div>

<footer>
  Made by Raj
</footer>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<script>
const firebaseConfig = {
  // üî¥ YAHAN APNA FIREBASE CONFIG PASTE KARO
};

firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

function addToken() {
  const pin = document.getElementById("pin").value;
  const dept = document.getElementById("dept").value;

  if (pin !== "1244") {
    alert("Wrong PIN");
    return;
  }

  const ref = db.collection("departments").doc(dept);

  ref.update({
    currentToken: firebase.firestore.FieldValue.increment(1)
  });
}

db.collection("departments").doc("medicine")
.onSnapshot(doc => {
  if (doc.exists) {
    document.getElementById("doctorToken").innerText = doc.data().currentToken;
    document.getElementById("patientToken").innerText = doc.data().currentToken;
  }
});
</script>

</body>
</html>
